(()=>{"use strict";console.log("AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAa"),console.log("Script started successfully");const e=[{question:"question 1/3",buttons:[{label:"A",className:"primary",callback:r},{label:"B",className:"primary",callback:n}]},{question:"question 2/3",buttons:[{label:"C",className:"primary",callback:n},{label:"D",className:"primary",callback:r}]},{question:"question 3/3",buttons:[{label:"E",className:"primary",callback:r},{label:"F",className:"primary",callback:n}]}];let l,a,o,s=600,t=0;function A(l){if(l>e.length-1)return WA.player.state.saveVariable("completed",1),void(WA.player.state.score>=20&&(WA.room.hideLayer("collisionLevel1"),WA.room.hideLayer("wallLevel1"),WA.room.showLayer("congrats1")));const o=e[l].question,s=e[l].buttons;a=WA.ui.openPopup("questionArea",o,s)}function r(){let e=WA.player.state.loadVariable("score");e+=10,WA.player.state.saveVariable("score",e),console.log(WA.player.state.score),a.close(),t++,A(t)}function n(){a.close(),t++,A(t)}function c(){s--;let a=Math.floor(s/60),A=Math.floor(s-60*a);A+a>0&&t<e.length?(l.close(),l=WA.ui.openPopup("TimeRemains",a+":"+A+"\nleft..",[])):t>e.length-1?(l=WA.ui.openPopup("TimeRemains","Terminé ! Il restait "+a+":"+A,[]),clearInterval(o)):A+a||(l=WA.ui.openPopup("TimeRemains","Temps écoulé..",[]))}WA.onInit().then((()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags);let e=WA.player.state.loadVariable("completed");console.log(e+"FRIOZEVJRFEHVO"),!s||0!=e&&null!=e||(l=WA.ui.openPopup("TimeRemains","10:00 \nleft..",[]),o=setInterval(c,1e3),A(t)),WA.player.state.saveVariable("score",0),console.log(WA.player.state.score)})).catch((e=>console.error(e)))})();
//# sourceMappingURL=scriptchallenge.js.map